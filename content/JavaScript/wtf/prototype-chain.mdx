---
title: 'åŸå‹é“¾'
slug: 'prototype-chain'
date: '2020-11-25'
category: 'JavaScript'
index: 10
authors:
    - cuvii
authorsUrl:
    - https://fei.kodin.fun
draft: false
---

æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š

-   `new`
-   `constructor`
-   `prototype`
-   `__proto__`
-   åŸå‹é“¾

## æ„é€ å‡½æ•°

åœ¨[åˆ›å»ºå¯¹è±¡](/js/wtf/objects-creation)ä¸­ï¼Œæœ‰æåˆ°è¿‡å¯ä»¥é€šè¿‡æ„é€ å‡½æ•°æ¥åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚

å…ˆä¸ç®¡æ„é€ å‡½æ•°ï¼Œçœ‹çœ‹é€šè¿‡å·¥å‚å‡½æ•°åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„ä¾‹å­ã€‚

```js run
function Book(name) {
	const result = {};
	result.name = name;
	return result;
}

const book1 = Book('ä¸‰å›½æ¼”ä¹‰');
```

å¦‚æœé€šè¿‡æ„é€ å‡½æ•°æ”¹å†™ï¼Œé‚£ä¹ˆä»£ç ä¼šç®€å•ä¸€äº›ï¼š

```js run
function Movie(name) {
	this.name = name;
}

const movie1 = new Movie('é“äºº');
```

å›é¡¾ä¸€ä¸‹ï¼Œé€šè¿‡ new å…³é”®å­—è°ƒç”¨å‡½æ•°æ—¶ï¼Œä¼šè‡ªåŠ¨åšä»¥ä¸‹å‡ ä»¶äº‹ï¼š

1. åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ã€‚
2. å°†å‡½æ•°å†…çš„ this æŒ‡å‘ç©ºå¯¹è±¡ã€‚
3. æ‰§è¡Œå‡½æ•°å†…éƒ¨çš„ä»£ç ã€‚
4. å¦‚æœå‡½æ•°æ²¡æœ‰è®¾ç½®è¿”å›å€¼ï¼Œå°±è¿”å›ç¬¬ä¸€æ­¥åˆ›å»ºçš„å¯¹è±¡ã€‚

å…¶å®åœ¨ç¬¬äºŒæ­¥ä¹‹å‰ï¼Œè¿˜ä¼šä¸ºç©ºå¯¹è±¡è®¾ç½®åŸå‹ï¼Œåœ¨ä¸Šé¢ä¾‹å­ä¸­å°±æ˜¯`movie1.__proto__ = Movie.prototype`ã€‚

æˆ‘ä»¬å…ˆçœ‹çœ‹`Movie.prototype`åˆ°åº•æ˜¯ä¸ªå•¥ã€‚

## Prototype

åœ¨ Chrome æµè§ˆå™¨è°ƒè¯•å·¥å…·ä¸­ï¼Œè¾“å…¥ `console.dir(Movie)`å¯ä»¥çœ‹åˆ°ï¼Œ`Movie` å‡½æ•°ä¸Šæœ‰ä»¥ä¸‹è¿™äº›å±æ€§ã€‚

> éœ€è¦å…ˆåœ¨è°ƒè¯•å·¥å…·ä¸­åˆ›å»º Movie å‡½æ•°

```js
// console.dir(Movie)
arguments: null
caller: null
length: 1
name: "Movie"
prototype: {constructor: Æ’}
__proto__: Æ’ ()
[[FunctionLocation]]: VM1677:1
[[Scopes]]: Scopes[2]
```

å¯ä»¥çœ‹åˆ° Movie å‡½æ•°æ˜¯æœ‰ä¸€ä¸ª prototype å±æ€§çš„ã€‚ç»§ç»­å±•å¼€ prototype å±æ€§ã€‚

```js run
// Movie.prototype
constructor: Æ’ Movie(name)
__proto__: Object
```



## `__proto__`

## å…³ç³»æ¢³ç†

## åŸå‹é“¾

> -   ğŸ”¥[å›¾è§£åŸå‹å’ŒåŸå‹é“¾ â€”â€” JS èŒ](https://juejin.cn/post/6844903797039300615)
> -   [JS åŸå‹ä¸åŸå‹é“¾ â€”â€” jsliang](https://juejin.cn/post/6844903782229213197)
> -   [åŸå‹ä¸åŸå‹é“¾ 2 â€”â€” jsliang](https://juejin.cn/post/6890716797436166152)
> -   [js åŸå‹åŠåŸå‹é“¾ â€”â€” èœé¸¡å°å‰ç«¯](https://juejin.cn/post/6844904093828251662)
