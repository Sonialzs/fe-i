---
title: 'ç±»åž‹è½¬æ¢'
slug: 'type-coercion'
date: '2020-11-24'
category: 'JavaScript'
index: 3
authors:
    - cuvii
authorsUrl:
    - https://fei.kodin.fun
draft: false
---

## åŽŸå§‹ç±»åž‹è½¬æ¢

### è½¬æ¢ä¸ºå¸ƒå°”å€¼

æ˜¾å¼è½¬æ¢ä¸ºå¸ƒå°”å€¼æ¯”è¾ƒç®€å•ï¼Œè°ƒç”¨ `Boolean()`å°±å¯ä»¥äº†ã€‚

åœ¨è¿›è¡Œæ¡ä»¶åˆ¤æ–­æ—¶ï¼Œä¾‹å¦‚`if(x)`åˆ¤æ–­ä¸­ï¼Œä¼šå¯¹ `x` çš„å€¼è¿›è¡Œéšå¼ç±»åž‹è½¬æ¢ã€‚

åœ¨ JavaScript ä¸­ï¼Œåªæœ‰ **8** ä¸ªå€¼ä¼šè½¬æ¢ä¸º `false`ï¼Œè¿™ 8 ä¸ªå€¼ä¹Ÿæ˜¯ä¼ è¯´ä¸­çš„ `falsy` å€¼ã€‚

1.  `false`
2.  `null`
3.  `undefined`
4.  `NaN`
5.  `0`
6.  `-0`
7.  `+0`
8.  `""`ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰

é™¤æ­¤ä¹‹å¤–éœ€è¦æ³¨æ„çš„ä¸¤ç‚¹æ˜¯ï¼š

-   `Boolean()`ï¼Œä¸ä¼ å…¥å‚æ•°æ—¶ï¼Œé»˜è®¤ä¸º `false`ã€‚
-   `[]`ç©ºæ•°ç»„æ˜¯` true`ï¼Œä¸æ˜¯ `false` å“¦ã€‚
-   â—â—`document.all`åœ¨éž ie ä¸‹ä½¿ç”¨`typeof`æ£€æµ‹ä¸º`undefined`ï¼Œä¹Ÿä¼šè¢«è½¬æ¢ä¸º `false`ã€‚åœ¨ HTML5 ä¸­è¿™ä¸ª API å·²ç»è¢«åºŸå¼ƒäº†ï¼Œä¸ä¼šçœŸçš„è¿˜æœ‰é¢è¯•å®˜é—®å§ã€‚

### è½¬æ¢ä¸ºæ•°å­—

| å‚æ•°ç±»åž‹  |                                    ç»“æžœ                                    |
| :-------: | :------------------------------------------------------------------------: |
| undefined |                                    NaN                                     |
|   null    |                                     +0                                     |
|  boolean  |                           true ä¸º 1ï¼Œfalse ä¸º+0                            |
|  number   |                                   åŽŸæ•°å­—                                   |
|  string   | çº¯æ•°å­—çš„å­—ç¬¦ä¸²(åŒ…æ‹¬å°æ•°å’Œè´Ÿæ•°ã€å„è¿›åˆ¶çš„æ•°)ï¼Œä¼šè¢«è½¬ä¸ºç›¸åº”çš„æ•°å­—ï¼Œå¦åˆ™ä¸º NaN |
|  symbol   |                                    æŠ¥é”™                                    |

è¡¨æ ¼å–è‡ª[ä»Ž 206 ä¸ª console.log()å®Œå…¨å¼„æ‡‚æ•°æ®ç±»åž‹è½¬æ¢çš„å‰ä¸–ä»Šç”Ÿ(ä¸Š)](https://juejin.cn/post/6844904105874472974#heading-14)

çº¯æ•°å­—çš„å­—ç¬¦ä¸²(åŒ…æ‹¬å°æ•°å’Œè´Ÿæ•°ã€å„è¿›åˆ¶çš„æ•°)ï¼Œä¼šè¢«è½¬ä¸ºç›¸åº”çš„æ•°å­—ã€‚

`null` è½¬æ¢ä¸º `0`ã€‚

`true` ä¸º 1,`false` ä¸º`0`ã€‚

`Symbol` ä¼šæŠ¥é”™ã€‚

å…¶ä»–åŸºæœ¬ç±»åž‹ï¼ŒåŒ…æ‹¬éžçº¯æ•°å­—çš„å­—ç¬¦ä¸²ï¼Œ`NaN`ï¼Œ`undefined` éƒ½ä¼šè¢«è½¬æ¢ä¸º `NaN`ã€‚

#### parseInt å’Œ parseFloat

-   `parseInt()`å°†ç»“æžœè½¬æ¢ä¸ºæ•´æ•°ã€‚
-   `parseFloat()`å°†ç»“æžœè½¬æ¢ä¸ºå°æ•°ã€‚

äºŒè€…çš„æ‰§è¡Œé€»è¾‘ç›¸ä¼¼ã€‚

1.  è·³è¿‡å¼€å¤´çš„æ‰€æœ‰ç©ºç™½å­—ç¬¦ä¸²ï¼Œä»Žç¬¬ä¸€ä¸ªéžç©ºç™½å­—ç¬¦ä¸²å¼€å§‹è§£æžã€‚
2.  å¦‚æžœç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ä¸æ˜¯æ•°å­—å­—é¢é‡ï¼ˆ`0x` å’Œ`-`æ˜¯æ•°å­—å­—é¢é‡å—·ï¼‰ï¼Œè¿”å›ž `NaN`ã€‚
3.  å°½å¯èƒ½å¤šè§£æžï¼Œé‡åˆ°ç¬¬ä¸€ä¸ªéžå­—ç¬¦ä¸²æ—¶è¿”å›žå‰é¢å·²ç»è§£æžçš„ç»“æžœã€‚ä¾‹å¦‚`123abc`ä¼šè¿”å›ž `123`,å¦‚æžœå¼€å¤´æ˜¯`0x`æˆ–`-`ï¼Œä½†æ˜¯åŽé¢ç´§è·Ÿçš„ä¸æ˜¯æ•°å­—ï¼Œä¾‹å¦‚`-a`æˆ–è€…`0xa`ä¹Ÿä¼šè¿”å›ž`NaN`ã€‚

### è½¬æ¢ä¸ºå­—ç¬¦ä¸²

| å‚æ•°ç±»åž‹  |       ç»“æžœ        |
| :-------: | :---------------: |
| undefined |    'undefined'    |
|   null    |      'null'       |
|  boolean  | 'true'æˆ–è€…'false' |
|    NaN    |       'NaN'       |
|  number   |    "æ•°å€¼æœ¬èº«"     |
|  Symbol   |    'Symbol(x)'    |

è¡¨æ ¼å–è‡ª[ä»Ž 206 ä¸ª console.log()å®Œå…¨å¼„æ‡‚æ•°æ®ç±»åž‹è½¬æ¢çš„å‰ä¸–ä»Šç”Ÿ(ä¸Š)](https://juejin.cn/post/6844904105874472974#heading-9)

### è½¬æ¢ä¸ºå¯¹è±¡

#### String()

String()æœ‰ä¸¤ç§ç”¨æ³•ï¼š

-   å½“ä½œæž„é€ å‡½æ•°è°ƒç”¨ï¼š`new String(x)`ï¼šæ­¤æ—¶è¿”å›žçš„æ˜¯æ–°åˆ›å»ºçš„ `String` å¯¹è±¡ã€‚

```js run
typeof new String('cuvii');
```

-   å½“ä½œæ™®é€šå‡½æ•°è°ƒç”¨ï¼š`String(x)`ï¼šæ­¤æ—¶è¿”å›žçš„æ˜¯å°† x è½¬æ¢ä¸ºå­—ç¬¦ä¸²åŽçš„ç»“æžœï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç›´æŽ¥è°ƒç”¨`String()`æ˜¯è¿›è¡Œç±»åž‹è½¬æ¢ã€‚

```js run
typeof String(123);
```

ç›¸ä¼¼çš„è¿˜æœ‰ `Boolean()`å’Œ `Number()`ï¼Œå…·ä½“å¯ä»¥æŸ¥çœ‹[åŒ…è£…å¯¹è±¡](/js/wtf/wrapper-object)ã€‚

#### Object()

`Object()`æž„é€ å‡½æ•°æŽ¥æ”¶ä»»æ„ç±»åž‹çš„å˜é‡ï¼Œä¼šæ ¹æ®å˜é‡ç±»åž‹åšå‡ºä¸åŒçš„å¤„ç†ã€‚
å¦‚æžœä¼ å…¥åŸºæœ¬ç±»åž‹ï¼Œé‚£å®ƒä¼šç”Ÿæˆå¯¹åº”ç±»åž‹çš„åŒ…è£…å¯¹è±¡ã€‚`null`å’Œ`undefined`é™¤å¤–ï¼Œä¼šè¢«è½¬æ¢ä¸ºç©ºå¯¹è±¡ã€‚

## å¯¹è±¡è½¬æ¢

### å¯¹è±¡è½¬å­—ç¬¦ä¸²

### å¯¹è±¡è½¬æ•°å­—

## ç›¸å…³æ–¹æ³•

### toPrimitive

### valueOf

### toString

## å…¶ä»–æƒ…å†µ

## å‚è€ƒ

> -   ðŸ”¥[ä»Ž 206 ä¸ª console.log()å®Œå…¨å¼„æ‡‚æ•°æ®ç±»åž‹è½¬æ¢çš„å‰ä¸–ä»Šç”Ÿ(ä¸Š)](https://juejin.cn/post/6844904105874472974)
> -   ðŸ”¥[ä»Ž 206 ä¸ª console.log()å®Œå…¨å¼„æ‡‚æ•°æ®ç±»åž‹è½¬æ¢çš„å‰ä¸–ä»Šç”Ÿ(ä¸‹)](https://juejin.cn/post/6844904114099322893)
> -   [JavaScript Type Conversions (casting)](https://flaviocopes.com/javascript-type-conversion/)
> -   [JavaScript Type Conversions](https://www.programiz.com/javascript/type-conversion)
