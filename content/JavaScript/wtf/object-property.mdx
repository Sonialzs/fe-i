---
title: '对象的属性'
slug: 'object-property'
date: '2020-11-25'
category: 'JavaScript'
index: 7
authors:
    - cuvii
authorsUrl:
    - https://fei.kodin.fun
draft: false
---

## 什么是对象

JavaScript 中的对象是一个集合类型，数据以键值对形式存储。键也被称为对象的属性，而值可以是数据和函数。

本章内容主要是对象本身的一些特点，不涉及[原型链](/js/wtf/prototype-chain)相关的知识点。

日常开发中，通常使用对象字面量或者构造函数来创建新对象。

```js run
// 通过字面量创建
const o1 = { name: 'cuvii', age: 23 };
console.log(o1);
// 通过构造函数创建
const o2 = new Object();
o2.name = 'cuvii';
o2.age = 23;
console.log(o2);

console.log(o1 == o2);
console.log(o1 === o2);
```

通过这两种方式创建的对象内容一样，但是由于是引用类型，进行比较时，实际上是比较地址，而不是对象的属性，所以`o1 == o2`和`o1 === o2`都为`false`。

另外，严格意义上来说，直接调用`Object()`函数，和`new Object()`完全一样。

> When called in a non-constructor context, Object behaves identically to new Object().
> [MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object#Description)

## 数据属性

JavaScript 的属性是有**特性**的。由于属性分为数据属性和访问器属性，所以两者有不同的特性。

对于数据属性，有四个特性：

-   `[[Configurable]]`：表示该属性是否可以通过 delete 删除并重新定义，是否可以修改特性，是否可以改为访问器属性。
-   `[[Enumerable]]`：表示该属性是否可以通过 for...in 循环遍历。
-   `[[Writable]]`：表示该属性的值是否可以被修改。
-   `[[Value]]`：属性实际的值。

为对象添加一个属性时，`[[Configurable]]`，`[[Enumerable]]`，`[[Writable]]`默认都为`true`。`[[Value]]`就是属性的值，默认为`undefined`。

如果想要修改属性的特性，需要用到`Object.defineProperty()`方法，该方法第一参数是对象，第二个参数是要修改的属性，第三个参数则是特性组成的对象。

接下来举个栗子，为对象添加一个不可写的 name 属性，值为`cuvii`。

```js:writable run
const o = {};

Object.defineProperty(o, 'name', {
	writable: false,
	value: 'cuvii',
});

console.log(o.name);
o.name = 'lilith';
console.log(o.name);
```

可以看到两次输出 `o.name` 结果都是`cuvii`，`o.name="liith"`并没有生效。

至于 configurable 和 enumerable 就不再举例了。

## 访问器属性

TODO

## 参考文档

> -   [Working with Objects —— MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Working_with_Objects)
> -   [《JavaScript 高级程序设计 第四版》 —— 理解对象](https://m.ituring.com.cn/book/2472)
